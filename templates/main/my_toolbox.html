<ion-view  class="common-person-view">


  <ion-content ng-switch on="customer.win" delegate-handle="mainScroll">

      <ion-refresher
              refreshing-text="数据正在加载中..."
              pulling-icon="ion-ios-arrow-down"
              spinner="bubbles"
              pulling-text="下拉刷新"
              on-refresh="doRefresh()">
      </ion-refresher>

<!-- index -->
<div class="main1" ng-switch-when='index'>

  <!--
                 <ion-list>
        
                  <ion-item class="lcsslwsl">
                     <div class="lcsslwslf1"><img src="teImg/lbaitemimg2.png" /> <span>完成</span></div>
                     <span class="lccslwf2">阳光人寿分红型</span>
                     <div class="lcssr3"><img src="teImg/wsl11.png" /></div>
                     <ion-option-button class="button-assertive">
                          投诉 
                        </ion-option-button>
                  </ion-item>
                  <ion-item class="lcsslwsl">
                     <div class="lcsslwslf1"><img src="teImg/lbaitemimg2.png" /> <span>完成</span></div>
                     <span class="lccslwf2">阳光人寿分红型</span>
                     <div class="lcssr3b"><img src="teImg/ywc11.png" /></div>
                     <ion-option-button class="button-energized">
                          投诉 
                        </ion-option-button>
                  </ion-item>


                  </ion-list> 
                --> 

  <div class="gnr2dadv"><!--内容右侧开始-->
      <div class="gjxnrtopyy"></div>
            
                <div class="gnr2ma"> 
       

                   <div class="khzlzz1">
                      <div class="khzlzz1a"><span>{{data.profile.data.fullname}}，您好！</span> 
                        <a href="" ng-click="updateProfile(1)" ng-if="!enableUpdatedProfile(1)">完善资料</a>
                        <a href="" ng-click="cancelUpdateProfile(1)" ng-if="enableUpdatedProfile(1)">取消</a>
                      </div>
                      <div class="khzlzz1b">
                      
                         <div class="khzlzz1bf">

                            <div class="khzlzz1bfimg" ng-if="!enableUpdatedProfile(1)"><img ng-src="{{imgProfile.data}}" /></div>
                            <div class="khzlzz1bfimg" ng-if="enableUpdatedProfile(1)"> <img ng-src="{{imgProfile.data}}" ng-click="choosePicMenu()"/></div>


                            <div ng-if="!enableUpdatedProfile(1)" class="khzlzz1bfw">{{data.profile.data.fullname}}</div>
                            <input ng-if="enableUpdatedProfile(1)" class="khzlzz1bfwu" placeholder="请输入姓名" ng-model="data.update.fullname"/>
                         </div>
                        <div class="khzlzz1br">
                            <div class="khzlzz1br1"><span>邮 箱</span>
                              <div ng-if="!enableUpdatedProfile(1)">{{data.profile.data.email}}</div>
                              <input ng-if="enableUpdatedProfile(1)" placeholder="请输入您的邮箱地址" ng-model="data.update.email"/>
                            </div>

                            <div class="khzlzz1br2"><span>性 别</span>
                              <div ng-if="!enableUpdatedProfile(1)">{{data.profile.data.gender | genderFilter}}</div>
                              <div ng-if="enableUpdatedProfile(1)">
                                   <select style="width:100%;border:0.1rem;" placeholder="请选择性别" ng-model="data.update.gender">
                                   <option value='male'>男</option>
                                   <option value='female'>女</option>
                                   </select>
                              </div>
                            </div>

                            <div class="khzlzz1br2"><span>手 机 号 码</span><div>{{data.profile.data.phone}}</div></div>
                            <div class="khzlzz1br2"><span>财 商 得 分</span><div>{{data.profile.data.score | scoreFilter}}</div></div>

                             <div class="khzlzz1br2"><span>所 在 地</span>
                              <div ng-if="!enableUpdatedProfile(1)">{{data.profile.data.province | provinceFilter}}</div>
                              <div ng-if="enableUpdatedProfile(1)">
                                   <select style="width:100%;border:0.1rem;" placeholder="请选择所在地" ng-model="data.update.province">
                                    <option ng-repeat='p in provinceNames' value={{p.key}}>{{p.value}}</option>
                                   </select>
                              </div>
                            </div>

                         </div>
                         
                      </div>
                   </div>
                   <input type="submit" ng-if="enableUpdatedProfile(1)" value="确认更改" class="khzlqdqd" ng-click="updateProfileInformation(data.update)"/>
                   
                   <div ng-if="data.profile.data.consultant" class="khzlzz2tit"><span></span><em>我的理财师</em></div>
                   
                   <div class="khzlzz2">
                       
                       <div class="khzlzz2a">
                          <!--<div class="khzlzz2af"><img src="teImg/gnr2nrclef1.jpg" /></div> -->
                          <div class="khzlzz2af"><img ng-src="{{data.profile.data.consultant | imageConsultantFilter}}" /></div>
                          <div class="khzlzz2ar">
                               <em>{{data.profile.data.consultant.fullname}} </em>
                               <span>手机  {{data.profile.data.consultant.phone}}</span>
                               <span>邮箱  {{data.profile.data.consultant.email}}</span>
                          </div>
                       </div>
                       <div class="khzlzz2b">
                          <div class="khzlzz2bf">         背   景   </div> 
                          <div class="khzlzz2br">{{data.profile.data.consultant.background}}</div>
                       </div>
                       <div class="khzlzz2c">
                          <div class="khzlzz2cf">职业证书</div> 
                          <ul class="khzlzz2cr">
                             <li><img src="teImg/zslog.jpg" /></li>
                             <li><img src="teImg/zslog2.jpg" /></li>
                             <li><img src="teImg/zslog3.jpg" /></li>
                             <li><img src="teImg/zslog4.jpg" /></li>
                          </ul>
                       </div>
                   
                   </div>
                   
                   
                   <div class="khzlzz3a"><span>我的密码</span> 
                    <a href="" ng-click="updateProfile(3)" ng-if="!enableUpdatedProfile(3)">修改</a>
                    <a href="" ng-click="cancelUpdateProfile(3)" ng-if="enableUpdatedProfile(3)">取消</a>
                   </div>

                   <div ng-if="enableUpdatedProfile(3)">
                    
                     <div class="khzlzz3a1">
                         <span>新 密 码</span>
                         <!--<div>8-20位，必须含有字母</div>-->
                         <input type='password' placeholder="请设置您的新密码" ng-model="modify.password1" />
                     </div>
                     <div class="khzlzz3a1">
                         <span>确认新密码</span>
                         <input type='password' placeholder="请重复输入您的密码" ng-model="modify.password2"/>
                     </div>
                     <div class="khzlzz3a1">
                         <span>手 机 号</span>
                         <input placeholder="请输入您的手机号码" ng-model="data.profile.data.phone"/>
                     </div>
                     <div class="khzlzzyzm">
                         <span>验 证 码</span>
                         <input value=""  placeholder="请输入验证码" ng-model="modify.code"/>
                         <a ng-if="modify.verify=='获取验证码'" href="" ng-click="getModifyVerifyCode(data.profile.data.phone)">{{modify.verify}}</a>
                         <a ng-if="modify.verify!='获取验证码'" href="">{{modify.verify}}</a>  
                     </div>
                     <input ng-if="modify.enabled" type="submit" value="确定" class="khzlqdqd" 
                     ng-click="modifyPassword(data.profile.data.phone, modify.code, data.profile.data.username,
                     modify.password1, modify.password2)"/>
                    
                   </div>

              </div>
              
            </div><!--内容右侧结束-->

 
</div>
<!-- index -->
<!-- orders -->
<div class="main1" ng-switch-when='orders'>
            <div class="gnr2dadv"><!--内容右侧开始-->

                <div class="gjxnrtopyy"></div>
                <!-- 内容top阴影 -->

                <div class="gnr2ma"> 
                  <!--修改新增部分-s-->
                    
                   <div class="khzlzz3a"><span>认购，申购</span> 
                    <a href="" ng-click="selectPage('orders', 'all'); selectOrders('all');" ng-if="showContent('orders', 'todo')">
                      查看全部
                    </a>
                    <a href="" ng-click="selectPage('orders', 'todo');  selectOrders('todo');"  ng-if="showContent('orders', 'all')">
                    查看未完成
                    </a>
                   </div>
                  
                <div>
              
                  <!--<ion-spinner icon="lines" style="position: absolute;display: block; left: 50%;" ng-if="data.refreshing.orders"></ion-spinner>-->
                </div>

                  <ion-list>

                    <ion-item class="lcsslwsl" ng-repeat="order in data.currentOrder.data" ng-click="goOrderDetail(order.id)">
   
                       <div class="lcsslwslf1"><img src='{{data.productType[order.product.type.toLowerCase()].image}}' /> <span>{{data.productType[order.product.type.toLowerCase()].name}}</span></div>
                       <span  class="lccslwf2">{{order.product.name}}</span>
                       <div class="lcssr3b">
                        <img src="teImg/wwc11.png" ng-if="order.state.toLowerCase()!='completed'"/>
                        <img src="teImg/ywc11.png" ng-if="order.state.toLowerCase()=='completed'"/>
                       </div>
                       <ion-option-button class="button-energized" ng-click="complain()">
                            投诉 
                          </ion-option-button>
                    </ion-item>

                  </ion-list> 

                    
                    <!--
                    <div class="twtwdv" ng-repeat="order in data.currentOrder.data" ng-click="goOrderDetail(order.id)">
                        <div class="twtwdvf"><img src='{{data.orderState[order.state.toLowerCase()].image}}' /> <em>{{data.orderState[order.state.toLowerCase()].name}}</em> </div>
                        <span>[{{data.productType[order.product.type.toLowerCase()].name}}] {{order.product.issuer}}</span>
                    </div>   
                    
                    <div class="twtwdv">
                        <div class="twtwdvf"><img src='teImg/gnr2rabm3.png' /></div>
                        <span>[私募]粤财·瀚信中鼎盈丰2期</span>
                    </div>-->
         
            </div>
      </div>
</div>


<!-- orders -->
<!-- bookings -->
<div class="main1" ng-switch-when='bookings'>
    <div class="gnr2dadv"><!--内容右侧开始-->

                <div class="gjxnrtopyy"></div>
                <!-- 内容top阴影 -->

                <div class="gnr2ma"> 

                  

                   <div class="khzlzz3a"><span>咨询，预约</span> 
                    <a href="" ng-click="selectPage('bookings','all');  selectBookings('all')" ng-if="showContent('bookings', 'todo')">
                      查看全部
                    </a>
                    <a href="" ng-click="selectPage('bookings','todo'); selectBookings('todo')" ng-if="showContent('bookings','all')">
                      查看未处理
                    </a>
                   </div>

                   <!--<ion-spinner icon="lines" style="position: absolute;display: block; left: 50%;" ng-if="data.refreshing.bookings"></ion-spinner>-->
                  <ion-list>

                    <ion-item class="lcsslwsl" ng-repeat="booking in data.currentBooking.data" ng-click="showProduct(booking.product)"> <!--ng-click="showProduct(booking.product)"-->
                       <div class="lcsslwslf1"><img src='{{data.productType[booking.product.type.toLowerCase()].image}}' /> <span>{{data.productType[booking.product.type.toLowerCase()].name}}</span></div>


                       <span  class="lccslwf2">{{booking.product.name}}</span>


                       <div class="lcssr3" ng-if="booking.state!='completed'"><img src="teImg/wsl11.png" /></div>
                       <div class="lcssr3" ng-if="booking.state=='completed'"><img src="teImg/ysl11.png" /></div>
                       <ion-option-button class="button-energized" ng-click="complain()">
                            投诉 
                          </ion-option-button>
                    </ion-item>

                  

                  </ion-list> 
                  <!--
                   <div class="twtwdv" ng-repeat="booking in data.bookings['all'].data" ng-click="showProduct(booking.product, 'NoBooking')">
                        <div class="twtwdvf"><img src='{{data.bookingState[booking.state.toLowerCase()].image}}' /> <em>{{data.bookingState[booking.state.toLowerCase()].name}}</em> </div>
                        <span>[{{data.productType[booking.product.type.toLowerCase()].name}}] {{booking.product.issuer}}</span>
                    </div>  --> 

              </div>
         
    </div><!--内容右侧结束-->
</div>
<!-- bookings -->

<!-- fav -->
<div class="main1" ng-switch-when='like'>
    <div class="gnr2dadv"><!--内容右侧开始-->

                <div class="gjxnrtopyy"></div>
                <!-- 内容top阴影 -->

                <div class="gnr2ma"> 

                  <ion-list>

                    <ion-item class="lcsslwsl" ng-repeat="product in data.liked.data" ng-click="showProduct(product)">
                       <div class="lcsslwslf1"><img src='{{data.productType[product.type.toLowerCase()].image}}' /> <span>{{data.productType[product.type.toLowerCase()].name}}</span></div>
                       <span class="lccslwf2">{{product.name}}</span>
                          <ion-option-button class="button-assertive" ng-click="hateIt(product)">
                            删除
                          </ion-option-button>
                    </ion-item>

                  

                  </ion-list> 
                  <!--
                   <div class="twtwdv" ng-repeat="booking in data.bookings['all'].data" ng-click="showProduct(booking.product, 'NoBooking')">
                        <div class="twtwdvf"><img src='{{data.bookingState[booking.state.toLowerCase()].image}}' /> <em>{{data.bookingState[booking.state.toLowerCase()].name}}</em> </div>
                        <span>[{{data.productType[booking.product.type.toLowerCase()].name}}] {{booking.product.issuer}}</span>
                    </div>  --> 

              </div>
         
    </div><!--内容右侧结束-->
</div>
<!-- fav -->

    
<!-- information -->
<div class="main1" ng-switch-when='information'>
  <div class="gnr2dadv"><!--内容右侧开始-->

      <div class="gjxnrtopyy"></div>
                <!-- 内容top阴影 -->
      <ul class="zhyhktpul">
        <li ng-class="{zhyhkpulcss: showContent('information', 'person')}" ng-click="selectPage('information', 'person')"><a href="">个人信息设置</a></li>
        <li ng-class="{zhyhkpulcss: showContent('information', 'bank')}" ng-click="selectPage('information', 'bank')"><a href="">银行卡认证</a></li>
        <li ng-class="{zhyhkpulcss: showContent('information', 'password')}" ng-click="selectPage('information', 'password')"><a href="">密码设置</a></li>
      </ul>
                
      <div class="zhyhknr"><!--我的账户-银行卡认证内容部分-s-->
        <form ng-if="showContent('information', 'person')">           
          <div class="zhkhimgdv">
            <span>设置头像</span>
            <p>
              <img src={{customer.information.profile.touxiang}} ng-click="takePhoto('information')"/>
              <a href="" ng-click="takePhoto('information')"></a>
            </p>           
          </div>
          <div class="hkgrdv2">
            <div class="zhgdvf"><span>真实姓名</span> <input type="text" placeholder="请输入您的真实姓名" /></div>
            <div class="shkdsr">
              <label>男 <input name="first" type="radio" value="" class="shkdsrnan" /></label>
              <label>女 <input name="first" type="radio" value="" class="shkdsrnan" /></label>
            </div>
          </div>
                          
          <div class="zhyhknr3"><span>手 机 号</span> <input type="text" placeholder="请输入您要修改的手机号证码"/> <a href="">修改</a></div>
          <div class="zhyhknr3"><span>邮箱地址</span> <input type="text" placeholder="请输入您要绑定的邮箱"/> <a href="">绑定</a></div>
          <input class="yhkqd" value="确定"  type="submit"/>
      </form>
      <form ng-if="showContent('information', 'bank')">
        <div class="zhyhknr1"><span>开户人姓名</span> <input type="text"  placeholder="请输入您的姓名"/></div>
        <div class="zhyhknr2"><span>选择银行</span> <a href="">请选择</a><input type="button" /></div>
        <div class="zhyhknr1"><span>银行卡号</span> <input type="text" placeholder="该银行卡为您提现、回款时的默认银行卡" /></div>
        <div class="zhyhknr1"><span>身份证号码</span> <input type="text" placeholder="请填写您的真实身份证号，验证后不得修改" /></div>
        <div class="zhyhknr3"><span>验 证 码</span> <input type="text" placeholder="请填写您接收到的验证码"/> <a href="">43秒后重发</a></div>
        <input class="yhkqd" value="确定"  type="submit"/>
      </form>
      <form ng-if="showContent('information', 'password')">
          <div class="zhyhknr1"><span>当前密码</span> <input type="text"  placeholder="请输入您的原始登录密码"/></div>
          <div class="zhyhknr1"><span>新 密 码</span> <input type="text" placeholder="8-20位，必须含有字母" /></div>
          <div class="zhyhknr1"><span>确认新密码</span> <input type="text" placeholder="请重复输入你的密码" /></div>
          <div class="zhyhknr3"><span>验 证 码</span> <input type="text" placeholder="请填写您接收到的验证码"/> <a href="">43秒后重发</a></div>
          <input class="yhkqd" value="确定"  type="submit"/>
      </form>      
                
    </div><!--我的账户-银行卡认证内容部分-e-->



                

              
  </div><!--内容右侧结束-->
</div>
<!-- information -->

<!-- other -->
<div class="main1" ng-switch-when='other'>
            <div class="gnr2dadv">

                <div class="gjxnrtopyy"></div> <!-- 内容top阴影 -->
               

                
                <div class="lcsrzdv"><!--理财师认证--s-->
                   <form>
                       
                        <div class="hkgrdv2">
                          <div class="zhgdvf"><span>真实姓名</span> <input type="text"  /></div>
                          <div class="shkdsr">
                            <label>男 <input name="first" type="radio" value="" class="shkdsrnan" /></label>
                            <label>女 <input name="first" type="radio" value="" class="shkdsrnan" /></label>
                          </div>
                        </div>
                          
                        <div class="zhyhknr1"><span>身 份 证 号</span> <input type="text" placeholder="" /></div>
                        <div class="zhyhknr1"><span>所属机构</span> <input type="text" placeholder="" /></div>
                        
                        <div class="lcsrzqy">
                           <div class="lcsrzq1">所在区域</div>
                           <div class="lcsrzq2">
                             <div class="lcsrrx"><img src="teImg/khlbxia.png" /></div>
                             <select>
                                <option value="volvo">请选择</option>
                                <option value="saab">浙江省</option>
                                <option value="opel">已完成</option>
                                <option value="audi">未通过</option>
                              </select>
                           </div>
                           <div class="lcsrzq2">
                             <div class="lcsrrx"><img src="teImg/khlbxia.png" /></div>
                             <select>
                                <option value="volvo">请选择</option>
                                <option value="saab">杭州市</option>
                                <option value="opel">已完成</option>
                                <option value="audi">未通过</option>
                              </select>
                           </div>
                           <div class="lcsrzq2">
                             <div class="lcsrrx"><img src="teImg/khlbxia.png" /></div>
                             <select>
                                <option value="volvo">请选择</option>
                                <option value="saab">江干区</option>
                                <option value="opel">已完成</option>
                                <option value="audi">未通过</option>
                              </select>
                           </div>
                           
                        </div>
                        
                        
                        <div class="ddztdv">
                            <div class="ddztf">
                               <div class="ddztfimg" ng-click="takePhoto('promotion')"><img src="teImg/ddztwj_03.png" /></div>
                               <a class="ddztspan" ng-click="takePhoto('promotion')"><img src="{{customer.other.promotion.stuff}}"/></a>
                            </div>
                            <span class="ddztrrs">上传您的身份证和相关资格证书</span>
                        </div> 
                        
                      <input class="yhkqd" value="确定"  type="submit"/>
                   </form>
                
                </div><!--理财师认证-e-->
                
              </div><!--gnr2dadv-->
</div>
<!-- other -->

<!-- message -->
<div class="main1" ng-switch-when='message'>
  <div class="gnr2dadv"><!--内容右侧开始-->

                <div class="gjxnrtopyy"></div><!-- 内容top阴影 -->
                <div class="gnr2ma">
              
               <!--
                <ul class="grxxrzpul">
                   <li class="zhyhkpulcss"><a href="">业务通知</a></li>
                   <li><a href="">系统消息</a></li>
                </ul>-->
                
                <!--<a href="" class="grxzxzaa">系统消息</a>-->
                <div style="height:0.1rem;"></div>
               
                <ion-list>

                    <ion-item class="lcsslwsl" ng-click="messageDialog(msg)" ng-repeat="msg in data.messages">
                       <div class="lcsslwslf1"><img ng-src="{{msg | imageMsgFilter}}"/></div>
                       <span  class="lccslwf2">{{msg.title}}</span>
                       <ion-option-button class="button-energized">
                            删除 
                        </ion-option-button>
                    </ion-item>
                    <!--
                    <ion-item class="lcsslwsl" ng-click="messageDialog()">
                       <div class="lcsslwslf1"><img src="teImg/grrexzimg2.png" /></div>
                       <span  class="lccslwf2">[预约成功]粤财·瀚信中鼎盈丰2期！</span>
                       <ion-option-button class="button-energized">
                            删除
                        </ion-option-button>
                    </ion-item>-->

                  </ion-list> 

                  </div>
                
  </div><!--内容右侧结束-->
</div>
<!-- message -->

<!--
  <ion-infinite-scroll
    ng-if="data.currentBooking.data.length<=data.currentBooking.count" 
    on-infinite="loadMore()" 
    immediate-check="false"
    distance="1%"><p>小金奋力加载中...</p>
  </ion-infinite-scroll>
-->

  </ion-content>
  <multiple-views-support width="75%" />
</ion-view>

